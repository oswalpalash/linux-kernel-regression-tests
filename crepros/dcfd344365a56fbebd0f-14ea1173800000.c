// https://syzkaller.appspot.com/bug?id=77e2cfee3bc0fdd3bcaf05ea83a9c26a59ddbf6c
// autogenerated by syzkaller (http://github.com/google/syzkaller)

#define _GNU_SOURCE
#include <endian.h>
#include <stdint.h>
#include <string.h>
#include <sys/syscall.h>
#include <unistd.h>

uint64_t r[1] = {0xffffffffffffffff};
void loop()
{
  long res;
  memcpy((void*)0x20000300, "/dev/infiniband/rdma_cm", 24);
  res = syscall(__NR_openat, 0xffffffffffffff9c, 0x20000300, 2, 0);
  if (res != -1)
    r[0] = res;
  memcpy((void*)0x20000080,
         "\x00\x00\x00\x00\x18\x00\x00\xfa\x00\x00\x00\x00\x00\x00\x00\x00",
         16);
  *(uint64_t*)0x20000090 = r[0];
  memcpy((void*)0x20000098,
         "\x3f\x01\x00\x00\x00\x00\x00\x00\x0c\x7f\x4b\x2a\x47\xa6\xa3\x4d\x18"
         "\xcc\x83\xa9\x91\x59\xd8\x29\x28\x0c\x92\x9f\x20\xf7\x62\x6d\x7b\x2c"
         "\xd3\xf2\x73\x35\x75\x1e\xf2\xdf\xe0\xca\x38\x0c\x8f\x01\xde\xd8\xc5"
         "\x15\x07\x2e\x45\x70\x5d\x03\x6d\x10\x6f\x5f\xed\x36\x2c\xbc\x9f\xa5"
         "\xe6\x11\x77\x42\x7a\x14\x93\x0c\x3d\xf7\x0f\x2a\x45\x25\xb1\xb6\x05"
         "\x22\x17\x08\x7e\x0b\x09\xfb\x2a\x94\x84\x3b\xce\xc2\x08\xac\x7a\x16"
         "\xf1\xfd\x88\xc8\x83\x43\xcb\x02\x23\x0c\x37\x07\x96\xc4\x5d\x48\x7a"
         "\xa8\xc6\x87\x4b\x00\x95\xe6\x51\xc7\x16\x12\x73\x25\x53\xbd\x80\xb6"
         "\x34\x26\xf5\xcc\x8f\x72\x16\x54\x02\x97\x7b\x29\x63\x6a\x51\x21\x03"
         "\x6e\x8e\xa0\xa0\x58\x7e\x2f\xc2\xe6\xae\xda\x5e\xf9\x4d\x0c\xe6\x78"
         "\x46\xca\x36\x03\x1a\x00\x2d\x6d\x9a\x75\x1a\x88\xc6\xa1\x78\xd9\x22"
         "\x29\xbc\xe5\x2b\x88\xf7\x0e\x2c\xd6\xf7\xd5\xf8\xe4\xce\x5e\xb0\x77"
         "\xe9\x53\xcf\x0d\x4d\x10\x5c\xb3\x6f\xf5\x10\x21\x78\xf4\x3b\xf8\xaf"
         "\x56\xd9\x9e\x54\xb7\x08",
         227);
  syscall(__NR_write, r[0], 0x20000080, 0xfb);
}

int main()
{
  syscall(__NR_mmap, 0x20000000, 0x1000000, 3, 0x32, -1, 0);
  loop();
  return 0;
}
